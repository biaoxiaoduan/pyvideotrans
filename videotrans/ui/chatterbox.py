# run again.  Do not edit this file unless you know what you are doing.
from PySide6 import QtWidgets, QtCore
from PySide6.QtCore import QMetaObject, QSize, Qt
from PySide6.QtWidgets import QLabel, QLineEdit, QPlainTextEdit, QPushButton, QSizePolicy, QHBoxLayout, QVBoxLayout

from videotrans.configure import config
from videotrans.util import tools


class Ui_chatterboxform(object):
    def setupUi(self, chatterboxform):
        self.has_done = False
        if not chatterboxform.objectName():
            chatterboxform.setObjectName("chatterboxform")
        chatterboxform.setWindowModality(Qt.NonModal)
        chatterboxform.resize(600, 500)
        sizePolicy = QSizePolicy(QSizePolicy.Fixed, QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(chatterboxform.sizePolicy().hasHeightForWidth())
        chatterboxform.setSizePolicy(sizePolicy)
        chatterboxform.setMaximumSize(QSize(600, 500))

        self.wrap_h = QHBoxLayout(chatterboxform)
        self.wrap_h.setObjectName(u"wrap_h")
        self.inner_v = QVBoxLayout()

        label_github = QLabel()
        label_github.setText(
            '需要安装并启动 https://github.com/jianchang512/chatterbox-api 才可使用' if config.defaulelang == 'zh' else 'You need to install and start https://github.com/jianchang512/chatterbox-api before you can use it')

        self.inner_v.addWidget(label_github)

        h1 = QHBoxLayout()
        self.label = QLabel()
        self.label.setObjectName("label")
        self.label.setMinimumSize(QSize(0, 35))
        self.api_url = QLineEdit()
        self.api_url.setObjectName("api_url")
        self.api_url.setMinimumSize(QSize(0, 35))
        h1.addWidget(self.label)
        h1.addWidget(self.api_url)
        self.inner_v.addLayout(h1)

        cfg_h = QHBoxLayout()
        cfg_label = QLabel()
        cfg_label.setObjectName("cfg_label")
        cfg_label.setText('cfg_weight(0-1)')
        cfg_label.setMinimumSize(QSize(0, 35))
        self.cfg_weight = QLineEdit()
        self.cfg_weight.setObjectName("cfg_weight")
        self.cfg_weight.setMinimumSize(QSize(0, 35))
        cfg_h.addWidget(cfg_label)
        cfg_h.addWidget(self.cfg_weight)
        self.inner_v.addLayout(cfg_h)

        exaggeration_h = QHBoxLayout()
        exaggeration_label = QLabel()
        exaggeration_label.setObjectName("exaggeration_label")
        exaggeration_label.setText('exaggeration(0.25-2.0)')
        exaggeration_label.setMinimumSize(QSize(0, 35))
        self.exaggeration = QLineEdit()
        self.exaggeration.setObjectName("exaggeration")
        self.exaggeration.setMinimumSize(QSize(0, 35))
        exaggeration_h.addWidget(exaggeration_label)
        exaggeration_h.addWidget(self.exaggeration)
        self.inner_v.addLayout(exaggeration_h)

        self.role = QPlainTextEdit()
        self.role.setObjectName("role")
        self.role.setMinimumSize(QSize(571, 100))
        self.role.setReadOnly(False)
        self.role.setPlaceholderText(
            '将参考音频放于该软件根目录下chatterbox文件夹内，在此填写参考音频含后缀名称\n例如\n123.mp3' if config.defaulelang == 'zh' else 'Place the reference audio in the chatterbox folder under the root directory of the software, and fill in the reference audio name with the suffix \n, for example\n123.mp3')
        self.inner_v.addWidget(self.role)

        h4 = QHBoxLayout()

        self.save = QPushButton()
        self.save.setObjectName("save")
        self.save.setMinimumSize(QSize(0, 35))

        self.test = QPushButton()
        self.test.setObjectName("test")
        self.test.setMinimumSize(QSize(0, 35))
        help_btn = QtWidgets.QPushButton()
        help_btn.setMinimumSize(QtCore.QSize(0, 35))
        help_btn.setStyleSheet("background-color: rgba(255, 255, 255,0)")
        help_btn.setObjectName("help_btn")
        help_btn.setCursor(Qt.PointingHandCursor)
        help_btn.setText("查看填写教程" if config.defaulelang == 'zh' else "Fill out the tutorial")
        help_btn.clicked.connect(lambda: tools.open_url(url='https://pyvideotrans.com/chatterbox'))
        h4.addWidget(self.save)
        h4.addWidget(self.test)
        h4.addWidget(help_btn)
        self.inner_v.addLayout(h4)

        # end
        self.wrap_h.addLayout(self.inner_v)

        self.retranslateUi(chatterboxform)

        QMetaObject.connectSlotsByName(chatterboxform)

    # setupUi

    def retranslateUi(self, chatterboxform):
        chatterboxform.setWindowTitle("Chatterbox-TTS API")
        self.save.setText("保存" if config.defaulelang == 'zh' else "Save")
        self.api_url.setPlaceholderText("填写http开头的完整地址 http://127.0.0.1:5093")
        self.label.setText("Chatterbox TTS API")

        self.test.setText("测试Api" if config.defaulelang == 'zh' else "Test API")
